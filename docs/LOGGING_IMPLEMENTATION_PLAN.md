# ë¡œê¹… ì‹œìŠ¤í…œ êµ¬í˜„ ê³„íš

## ğŸ“‹ ëª©ì°¨

1. [í˜„ì¬ ìƒíƒœ ë¶„ì„](#í˜„ì¬-ìƒíƒœ-ë¶„ì„)
2. [ë¡œê¹… ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ë¡œê¹…-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [ë°±ì—”ë“œ ë¡œê¹… êµ¬í˜„](#ë°±ì—”ë“œ-ë¡œê¹…-êµ¬í˜„)
4. [í”„ë¡ íŠ¸ì—”ë“œ ë¡œê¹… êµ¬í˜„](#í”„ë¡ íŠ¸ì—”ë“œ-ë¡œê¹…-êµ¬í˜„)
5. [ë°ì´í„°ë² ì´ìŠ¤ ë¡œê¹… êµ¬í˜„](#ë°ì´í„°ë² ì´ìŠ¤-ë¡œê¹…-êµ¬í˜„)
6. [ë¡œê·¸ ê´€ë¦¬ UI êµ¬í˜„](#ë¡œê·¸-ê´€ë¦¬-ui-êµ¬í˜„)
7. [êµ¬í˜„ ë¡œë“œë§µ](#êµ¬í˜„-ë¡œë“œë§µ)
8. [ì˜ˆìƒ íš¨ê³¼](#ì˜ˆìƒ-íš¨ê³¼)

---

## í˜„ì¬ ìƒíƒœ ë¶„ì„

### ë°±ì—”ë“œ
```
âœ— print() ë¬¸ ì‚¬ìš©: 228ê°œ (15ê°œ íŒŒì¼)
âœ“ logging ëª¨ë“ˆ ì‚¬ìš©: 1ê°œ (email_sender.py)
âœ— ë¡œê·¸ íŒŒì¼ ì—†ìŒ
âœ— ë¡œê·¸ ë ˆë²¨ êµ¬ë¶„ ì—†ìŒ
âœ— êµ¬ì¡°í™”ëœ ë¡œê¹… ì—†ìŒ
```

**ë¬¸ì œì :**
- print()ëŠ” ë¡œê·¸ ë ˆë²¨, íƒ€ì„ìŠ¤íƒ¬í”„, íŒŒì¼ ì •ë³´ ì—†ìŒ
- ë¡œê·¸ íŒŒì¼ë¡œ ì €ì¥ë˜ì§€ ì•Šì•„ ë””ë²„ê¹… ì–´ë ¤ì›€
- ì—ëŸ¬ì™€ ì •ë³´ì„± ë¡œê·¸ êµ¬ë¶„ ë¶ˆê°€
- í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ë¡œê·¸ ì¶”ì  ë¶ˆê°€ëŠ¥

### í”„ë¡ íŠ¸ì—”ë“œ
```
âœ“ console.log() ì‚¬ìš© ì¤‘
âœ— ì—ëŸ¬ ì¶”ì  ì‹œìŠ¤í…œ ì—†ìŒ
âœ— ì‚¬ìš©ì ì•¡ì…˜ ë¡œê¹… ì—†ìŒ
âœ— í”„ë¡œë•ì…˜ ë¡œê·¸ ìˆ˜ì§‘ ì—†ìŒ
```

**ë¬¸ì œì :**
- ì‚¬ìš©ì í™˜ê²½ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ íŒŒì•… ë¶ˆê°€
- ë””ë²„ê¹… ì •ë³´ê°€ ë¸Œë¼ìš°ì €ì—ë§Œ ë‚¨ìŒ
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì–´ë ¤ì›€

### ë°ì´í„°ë² ì´ìŠ¤
```
âœ— ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê¹… ì—†ìŒ
âœ— íŠ¸ëœì­ì…˜ ë¡œê¹… ì—†ìŒ
âœ— ì»¤ë„¥ì…˜ í’€ ëª¨ë‹ˆí„°ë§ ì—†ìŒ
```

**ë¬¸ì œì :**
- ì„±ëŠ¥ ë³‘ëª© ì§€ì  íŒŒì•… ì–´ë ¤ì›€
- ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ì—ëŸ¬ ì¶”ì  ë¶ˆê°€
- ì¿¼ë¦¬ ìµœì í™” ê·¼ê±° ì—†ìŒ

---

## ë¡œê¹… ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ë¡œê¹… ê³„ì¸µ êµ¬ì¡°                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   í”„ë¡ íŠ¸ì—”ë“œ     â”‚    â”‚    ë°±ì—”ë“œ        â”‚    â”‚   ë°ì´í„°ë² ì´ìŠ¤   â”‚
â”‚                  â”‚    â”‚                  â”‚    â”‚                  â”‚
â”‚  â€¢ ì½˜ì†” ë¡œê·¸     â”‚    â”‚  â€¢ Python        â”‚    â”‚  â€¢ ìŠ¬ë¡œìš° ì¿¼ë¦¬   â”‚
â”‚  â€¢ ì—ëŸ¬ ì¶”ì      â”‚    â”‚    logging       â”‚    â”‚  â€¢ ì»¤ë„¥ì…˜ ë¡œê·¸   â”‚
â”‚  â€¢ ì‚¬ìš©ì ì•¡ì…˜   â”‚    â”‚  â€¢ íŒŒì¼ ë¡œê·¸     â”‚    â”‚  â€¢ ì—ëŸ¬ ë¡œê·¸     â”‚
â”‚  â€¢ API í˜¸ì¶œ ë¡œê·¸ â”‚    â”‚  â€¢ êµ¬ì¡°í™” ë¡œê·¸   â”‚    â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚                       â–¼                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   ë¡œê·¸ ìˆ˜ì§‘ê¸°    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚   (Optional)     â”‚
                        â”‚  â€¢ Logstash      â”‚
                        â”‚  â€¢ Fluentd       â”‚
                        â”‚  â€¢ Vector        â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   ë¡œê·¸ ì €ì¥ì†Œ    â”‚
                        â”‚                  â”‚
                        â”‚  â€¢ íŒŒì¼ ì‹œìŠ¤í…œ   â”‚
                        â”‚  â€¢ ë°ì´í„°ë² ì´ìŠ¤  â”‚
                        â”‚  â€¢ Elasticsearch â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   ë¡œê·¸ ë·°ì–´ UI   â”‚
                        â”‚  (ê´€ë¦¬ì ì „ìš©)   â”‚
                        â”‚                  â”‚
                        â”‚  â€¢ ì‹¤ì‹œê°„ ì¡°íšŒ   â”‚
                        â”‚  â€¢ ê²€ìƒ‰/í•„í„°ë§   â”‚
                        â”‚  â€¢ ë‹¤ìš´ë¡œë“œ      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ë°±ì—”ë“œ ë¡œê¹… êµ¬í˜„

### 1. Python Logging ì„¤ì •

#### 1.1 ë¡œê¹… ì„¤ì • ëª¨ë“ˆ (`app/core/logger.py`)

```python
"""
ì¤‘ì•™í™”ëœ ë¡œê¹… ì„¤ì •
"""
import logging
import sys
from pathlib import Path
from logging.handlers import RotatingFileHandler, TimedRotatingFileHandler
from datetime import datetime
import json

from app.config import settings


class JSONFormatter(logging.Formatter):
    """êµ¬ì¡°í™”ëœ JSON ë¡œê·¸ í¬ë§·í„°"""

    def format(self, record: logging.LogRecord) -> str:
        log_data = {
            "timestamp": datetime.utcnow().isoformat(),
            "level": record.levelname,
            "logger": record.name,
            "message": record.getMessage(),
            "module": record.module,
            "function": record.funcName,
            "line": record.lineno,
        }

        # ì˜ˆì™¸ ì •ë³´ ì¶”ê°€
        if record.exc_info:
            log_data["exception"] = self.formatException(record.exc_info)

        # ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸ ì •ë³´
        if hasattr(record, 'user_id'):
            log_data["user_id"] = record.user_id
        if hasattr(record, 'request_id'):
            log_data["request_id"] = record.request_id
        if hasattr(record, 'ip_address'):
            log_data["ip_address"] = record.ip_address

        return json.dumps(log_data, ensure_ascii=False)


def setup_logging():
    """ë¡œê¹… ì‹œìŠ¤í…œ ì´ˆê¸°í™”"""

    # ë¡œê·¸ ë””ë ‰í† ë¦¬ ìƒì„±
    log_dir = Path(settings.LOG_DIR)
    log_dir.mkdir(parents=True, exist_ok=True)

    # ë£¨íŠ¸ ë¡œê±° ì„¤ì •
    root_logger = logging.getLogger()
    root_logger.setLevel(getattr(logging, settings.LOG_LEVEL.upper()))

    # ê¸°ì¡´ í•¸ë“¤ëŸ¬ ì œê±° (ì¤‘ë³µ ë°©ì§€)
    root_logger.handlers.clear()

    # ì½˜ì†” í•¸ë“¤ëŸ¬ (ê°œë°œ í™˜ê²½)
    if settings.ENVIRONMENT == "development":
        console_handler = logging.StreamHandler(sys.stdout)
        console_handler.setLevel(logging.DEBUG)
        console_formatter = logging.Formatter(
            '%(asctime)s - %(name)s - %(levelname)s - %(message)s',
            datefmt='%Y-%m-%d %H:%M:%S'
        )
        console_handler.setFormatter(console_formatter)
        root_logger.addHandler(console_handler)

    # ì¼ë°˜ ë¡œê·¸ íŒŒì¼ í•¸ë“¤ëŸ¬ (INFO ì´ìƒ)
    info_file_handler = RotatingFileHandler(
        filename=log_dir / "app.log",
        maxBytes=10 * 1024 * 1024,  # 10MB
        backupCount=10,
        encoding='utf-8'
    )
    info_file_handler.setLevel(logging.INFO)
    info_file_handler.setFormatter(JSONFormatter())
    root_logger.addHandler(info_file_handler)

    # ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ í•¸ë“¤ëŸ¬ (ERROR ì´ìƒ)
    error_file_handler = RotatingFileHandler(
        filename=log_dir / "error.log",
        maxBytes=10 * 1024 * 1024,  # 10MB
        backupCount=10,
        encoding='utf-8'
    )
    error_file_handler.setLevel(logging.ERROR)
    error_file_handler.setFormatter(JSONFormatter())
    root_logger.addHandler(error_file_handler)

    # ì ‘ê·¼ ë¡œê·¸ í•¸ë“¤ëŸ¬ (ì¼ë³„ ë¡œí…Œì´ì…˜)
    access_file_handler = TimedRotatingFileHandler(
        filename=log_dir / "access.log",
        when='midnight',
        interval=1,
        backupCount=30,
        encoding='utf-8'
    )
    access_file_handler.setLevel(logging.INFO)
    access_file_handler.setFormatter(JSONFormatter())

    # ë³„ë„ access ë¡œê±° ìƒì„±
    access_logger = logging.getLogger("access")
    access_logger.addHandler(access_file_handler)
    access_logger.setLevel(logging.INFO)
    access_logger.propagate = False

    # ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œê·¸ ë ˆë²¨ ì¡°ì •
    logging.getLogger("uvicorn").setLevel(logging.WARNING)
    logging.getLogger("sqlalchemy.engine").setLevel(logging.WARNING)
    logging.getLogger("httpx").setLevel(logging.WARNING)
    logging.getLogger("httpcore").setLevel(logging.WARNING)

    logging.info("Logging system initialized")


# í¸ì˜ í•¨ìˆ˜
def get_logger(name: str) -> logging.Logger:
    """ë¡œê±° ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°"""
    return logging.getLogger(name)
```

#### 1.2 ì„¤ì • ì¶”ê°€ (`app/config.py`)

```python
class Settings(BaseSettings):
    # ... ê¸°ì¡´ ì„¤ì • ...

    # Logging
    LOG_LEVEL: str = "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
    LOG_DIR: str = "/home/nuricom/project/myappStore/data/logs"
    ENVIRONMENT: str = "development"  # development, production
```

#### 1.3 ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€ (`app/middleware/logging_middleware.py`)

```python
"""
HTTP ìš”ì²­/ì‘ë‹µ ë¡œê¹… ë¯¸ë“¤ì›¨ì–´
"""
import time
import logging
from starlette.middleware.base import BaseHTTPMiddleware
from starlette.requests import Request
from starlette.responses import Response
import uuid

logger = logging.getLogger("access")


class LoggingMiddleware(BaseHTTPMiddleware):
    """ëª¨ë“  HTTP ìš”ì²­/ì‘ë‹µ ë¡œê¹…"""

    async def dispatch(self, request: Request, call_next):
        # ìš”ì²­ ID ìƒì„±
        request_id = str(uuid.uuid4())
        request.state.request_id = request_id

        # ì‹œì‘ ì‹œê°„
        start_time = time.time()

        # ìš”ì²­ ì •ë³´
        logger.info(
            "Incoming request",
            extra={
                "request_id": request_id,
                "method": request.method,
                "url": str(request.url),
                "ip_address": request.client.host if request.client else None,
                "user_agent": request.headers.get("user-agent"),
            }
        )

        # ìš”ì²­ ì²˜ë¦¬
        try:
            response = await call_next(request)
            process_time = time.time() - start_time

            # ì‘ë‹µ ë¡œê¹…
            logger.info(
                "Request completed",
                extra={
                    "request_id": request_id,
                    "method": request.method,
                    "url": str(request.url),
                    "status_code": response.status_code,
                    "process_time": f"{process_time:.3f}s",
                }
            )

            # ì‘ë‹µ í—¤ë”ì— request_id ì¶”ê°€
            response.headers["X-Request-ID"] = request_id

            return response

        except Exception as e:
            process_time = time.time() - start_time

            logger.error(
                "Request failed",
                extra={
                    "request_id": request_id,
                    "method": request.method,
                    "url": str(request.url),
                    "error": str(e),
                    "process_time": f"{process_time:.3f}s",
                },
                exc_info=True
            )
            raise
```

### 2. ê¸°ì¡´ print() ë¬¸ ë³€ê²½

#### 2.1 ë³€ê²½ ì˜ˆì‹œ

**Before:**
```python
print(f"[RedisCache] Connected to Redis: {settings.REDIS_URL}")
print(f"[RedisCache] Failed to connect to Redis: {e}")
```

**After:**
```python
import logging
logger = logging.getLogger(__name__)

logger.info(f"Connected to Redis: {settings.REDIS_URL}")
logger.error(f"Failed to connect to Redis: {e}", exc_info=True)
```

#### 2.2 ë¡œê·¸ ë ˆë²¨ ê°€ì´ë“œ

| ë ˆë²¨ | ìš©ë„ | ì˜ˆì‹œ |
|------|------|------|
| **DEBUG** | ë””ë²„ê¹… ì •ë³´ | ë³€ìˆ˜ê°’, ë‚´ë¶€ ìƒíƒœ |
| **INFO** | ì¼ë°˜ ì •ë³´ | ìŠ¤ìº” ì‹œì‘/ì™„ë£Œ, ìºì‰¬ íˆíŠ¸/ë¯¸ìŠ¤ |
| **WARNING** | ê²½ê³  (ì²˜ë¦¬ ê°€ëŠ¥) | API ì¬ì‹œë„, ìºì‰¬ ë¯¸ìŠ¤ |
| **ERROR** | ì—ëŸ¬ (ê¸°ëŠ¥ ì‹¤íŒ¨) | íŒŒì¼ ì½ê¸° ì‹¤íŒ¨, API í˜¸ì¶œ ì‹¤íŒ¨ |
| **CRITICAL** | ì¹˜ëª…ì  ì—ëŸ¬ | DB ì—°ê²° ì‹¤íŒ¨, ì„œë²„ ì‹œì‘ ì‹¤íŒ¨ |

### 3. ë¡œê·¸ ëª¨ë¸ ì¶”ê°€ (`app/models/log.py`)

```python
"""
ë¡œê·¸ ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ (ì„ íƒì‚¬í•­)
"""
from sqlalchemy import Column, Integer, String, Text, DateTime, Enum
from datetime import datetime
import enum

from app.database import Base


class LogLevel(str, enum.Enum):
    DEBUG = "DEBUG"
    INFO = "INFO"
    WARNING = "WARNING"
    ERROR = "ERROR"
    CRITICAL = "CRITICAL"


class Log(Base):
    """ì‹œìŠ¤í…œ ë¡œê·¸ í…Œì´ë¸”"""
    __tablename__ = "logs"

    id = Column(Integer, primary_key=True, index=True)
    timestamp = Column(DateTime, default=datetime.utcnow, index=True)
    level = Column(Enum(LogLevel), index=True)
    logger = Column(String(255), index=True)
    message = Column(Text)
    module = Column(String(255))
    function = Column(String(255))
    line = Column(Integer)

    # ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸
    user_id = Column(Integer, nullable=True, index=True)
    request_id = Column(String(36), nullable=True, index=True)
    ip_address = Column(String(45), nullable=True)
    exception = Column(Text, nullable=True)

    # ë©”íƒ€ë°ì´í„°
    extra = Column(Text, nullable=True)  # JSON í˜•ì‹
```

---

## í”„ë¡ íŠ¸ì—”ë“œ ë¡œê¹… êµ¬í˜„

### 1. ë¡œê±° ìœ í‹¸ë¦¬í‹° (`src/utils/logger.js`)

```javascript
/**
 * í”„ë¡ íŠ¸ì—”ë“œ ë¡œê¹… ìœ í‹¸ë¦¬í‹°
 */

class Logger {
  constructor() {
    this.isDevelopment = import.meta.env.MODE === 'development'
    this.logBuffer = []
    this.maxBufferSize = 100
  }

  /**
   * ë¡œê·¸ í¬ë§·íŒ…
   */
  formatLog(level, message, context = {}) {
    return {
      timestamp: new Date().toISOString(),
      level,
      message,
      url: window.location.href,
      userAgent: navigator.userAgent,
      ...context
    }
  }

  /**
   * DEBUG ë¡œê·¸
   */
  debug(message, context) {
    if (this.isDevelopment) {
      console.debug(`[DEBUG] ${message}`, context)
    }
    this.addToBuffer('DEBUG', message, context)
  }

  /**
   * INFO ë¡œê·¸
   */
  info(message, context) {
    if (this.isDevelopment) {
      console.info(`[INFO] ${message}`, context)
    }
    this.addToBuffer('INFO', message, context)
  }

  /**
   * WARNING ë¡œê·¸
   */
  warn(message, context) {
    console.warn(`[WARN] ${message}`, context)
    this.addToBuffer('WARNING', message, context)
  }

  /**
   * ERROR ë¡œê·¸
   */
  error(message, error, context) {
    console.error(`[ERROR] ${message}`, error, context)

    const logEntry = this.formatLog('ERROR', message, {
      ...context,
      error: {
        name: error?.name,
        message: error?.message,
        stack: error?.stack
      }
    })

    this.addToBuffer('ERROR', message, logEntry)

    // ì—ëŸ¬ëŠ” ì¦‰ì‹œ ì„œë²„ë¡œ ì „ì†¡
    this.sendToServer([logEntry])
  }

  /**
   * ë¡œê·¸ ë²„í¼ì— ì¶”ê°€
   */
  addToBuffer(level, message, context) {
    const logEntry = this.formatLog(level, message, context)
    this.logBuffer.push(logEntry)

    // ë²„í¼ í¬ê¸° ì œí•œ
    if (this.logBuffer.length > this.maxBufferSize) {
      this.logBuffer.shift()
    }
  }

  /**
   * ì„œë²„ë¡œ ë¡œê·¸ ì „ì†¡
   */
  async sendToServer(logs) {
    if (!logs || logs.length === 0) return

    try {
      await fetch('/api/logs/frontend', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${localStorage.getItem('token')}`
        },
        body: JSON.stringify({ logs })
      })
    } catch (err) {
      // ë¡œê·¸ ì „ì†¡ ì‹¤íŒ¨ ì‹œ ì½˜ì†”ì—ë§Œ í‘œì‹œ
      console.error('Failed to send logs to server:', err)
    }
  }

  /**
   * ì£¼ê¸°ì ìœ¼ë¡œ ë²„í¼ í”ŒëŸ¬ì‹œ
   */
  startAutoFlush(intervalMs = 60000) {
    setInterval(() => {
      if (this.logBuffer.length > 0) {
        this.sendToServer([...this.logBuffer])
        this.logBuffer = []
      }
    }, intervalMs)
  }

  /**
   * ì‚¬ìš©ì ì•¡ì…˜ ë¡œê¹…
   */
  logAction(action, details = {}) {
    this.info(`User action: ${action}`, {
      action,
      ...details,
      userId: localStorage.getItem('userId')
    })
  }

  /**
   * API í˜¸ì¶œ ë¡œê¹…
   */
  logApiCall(method, url, status, duration) {
    const level = status >= 400 ? 'ERROR' : 'INFO'
    this[level.toLowerCase()](`API ${method} ${url}`, {
      method,
      url,
      status,
      duration: `${duration}ms`
    })
  }
}

// ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤
export const logger = new Logger()

// ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬
window.addEventListener('error', (event) => {
  logger.error('Unhandled error', event.error, {
    filename: event.filename,
    lineno: event.lineno,
    colno: event.colno
  })
})

// Promise rejection í•¸ë“¤ëŸ¬
window.addEventListener('unhandledrejection', (event) => {
  logger.error('Unhandled promise rejection', event.reason)
})
```

### 2. API ì¸í„°ì…‰í„°ì— ë¡œê¹… ì¶”ê°€ (`src/api/client.js`)

```javascript
import axios from 'axios'
import { logger } from '@/utils/logger'

// ìš”ì²­ ì¸í„°ì…‰í„°
client.interceptors.request.use(
  (config) => {
    config.metadata = { startTime: new Date() }
    logger.debug(`API Request: ${config.method.toUpperCase()} ${config.url}`, {
      params: config.params,
      data: config.data
    })
    return config
  },
  (error) => {
    logger.error('API Request failed', error)
    return Promise.reject(error)
  }
)

// ì‘ë‹µ ì¸í„°ì…‰í„°
client.interceptors.response.use(
  (response) => {
    const duration = new Date() - response.config.metadata.startTime
    logger.logApiCall(
      response.config.method.toUpperCase(),
      response.config.url,
      response.status,
      duration
    )
    return response
  },
  (error) => {
    const duration = error.config?.metadata?.startTime
      ? new Date() - error.config.metadata.startTime
      : 0

    logger.logApiCall(
      error.config?.method?.toUpperCase() || 'UNKNOWN',
      error.config?.url || 'UNKNOWN',
      error.response?.status || 0,
      duration
    )

    return Promise.reject(error)
  }
)
```

### 3. Vue ì—ëŸ¬ í•¸ë“¤ëŸ¬ (`src/main.js`)

```javascript
import { logger } from './utils/logger'

const app = createApp(App)

// Vue ì—ëŸ¬ í•¸ë“¤ëŸ¬
app.config.errorHandler = (err, instance, info) => {
  logger.error('Vue error', err, {
    component: instance?.$options?.name,
    info
  })
}

// ê²½ê³  í•¸ë“¤ëŸ¬
app.config.warnHandler = (msg, instance, trace) => {
  logger.warn('Vue warning', {
    message: msg,
    component: instance?.$options?.name,
    trace
  })
}

// ë¡œê·¸ ìë™ í”ŒëŸ¬ì‹œ ì‹œì‘
logger.startAutoFlush()
```

---

## ë°ì´í„°ë² ì´ìŠ¤ ë¡œê¹… êµ¬í˜„

### 1. SQLAlchemy ë¡œê¹… ì„¤ì •

#### 1.1 ì—”ì§„ ì„¤ì • (`app/database.py`)

```python
from sqlalchemy import create_engine, event
from sqlalchemy.engine import Engine
import logging
import time

logger = logging.getLogger("sqlalchemy.engine")

# ìŠ¬ë¡œìš° ì¿¼ë¦¬ ì„ê³„ê°’ (ì´ˆ)
SLOW_QUERY_THRESHOLD = 1.0


@event.listens_for(Engine, "before_cursor_execute")
def before_cursor_execute(conn, cursor, statement, parameters, context, executemany):
    """ì¿¼ë¦¬ ì‹¤í–‰ ì „ ì‹œê°„ ê¸°ë¡"""
    conn.info.setdefault('query_start_time', []).append(time.time())
    logger.debug(f"Query started: {statement[:100]}...")


@event.listens_for(Engine, "after_cursor_execute")
def after_cursor_execute(conn, cursor, statement, parameters, context, executemany):
    """ì¿¼ë¦¬ ì‹¤í–‰ í›„ ì‹œê°„ ì¸¡ì •"""
    total_time = time.time() - conn.info['query_start_time'].pop(-1)

    if total_time > SLOW_QUERY_THRESHOLD:
        logger.warning(
            f"Slow query detected ({total_time:.3f}s): {statement}",
            extra={
                "query": statement,
                "parameters": parameters,
                "execution_time": total_time
            }
        )
    else:
        logger.debug(f"Query completed in {total_time:.3f}s")


# ì—”ì§„ ìƒì„± ì‹œ ë¡œê¹… í™œì„±í™”
engine = create_engine(
    settings.DATABASE_URL,
    echo=settings.ENVIRONMENT == "development",  # ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì¿¼ë¦¬ ì¶œë ¥
    pool_pre_ping=True,
    pool_size=10,
    max_overflow=20
)
```

### 2. ì»¤ë„¥ì…˜ í’€ ëª¨ë‹ˆí„°ë§

```python
@event.listens_for(Engine, "connect")
def receive_connect(dbapi_conn, connection_record):
    """ì»¤ë„¥ì…˜ í’€ ì—°ê²° ë¡œê¹…"""
    logger.info("Database connection established")


@event.listens_for(Engine, "close")
def receive_close(dbapi_conn, connection_record):
    """ì»¤ë„¥ì…˜ í’€ í•´ì œ ë¡œê¹…"""
    logger.info("Database connection closed")


@event.listens_for(Engine, "checkout")
def receive_checkout(dbapi_conn, connection_record, connection_proxy):
    """ì»¤ë„¥ì…˜ ì²´í¬ì•„ì›ƒ ë¡œê¹…"""
    logger.debug("Connection checked out from pool")


@event.listens_for(Engine, "checkin")
def receive_checkin(dbapi_conn, connection_record):
    """ì»¤ë„¥ì…˜ ì²´í¬ì¸ ë¡œê¹…"""
    logger.debug("Connection returned to pool")
```

### 3. PostgreSQL ë¡œê¹… ì„¤ì •

#### 3.1 `docker-compose.yml` ìˆ˜ì •

```yaml
db:
  image: postgres:15
  environment:
    # ... ê¸°ì¡´ ì„¤ì • ...

    # ë¡œê¹… ì„¤ì •
    POSTGRES_INITDB_ARGS: "-c log_statement=all -c log_duration=on"
  command:
    - "postgres"
    - "-c"
    - "log_statement=all"              # ëª¨ë“  SQL ë¬¸ ë¡œê¹…
    - "-c"
    - "log_duration=on"                # ì¿¼ë¦¬ ì‹¤í–‰ ì‹œê°„ ë¡œê¹…
    - "-c"
    - "log_min_duration_statement=1000" # 1ì´ˆ ì´ìƒ ì¿¼ë¦¬ë§Œ ë¡œê¹…
    - "-c"
    - "log_line_prefix=%t [%p]: [%l-1] user=%u,db=%d,app=%a,client=%h " # ë¡œê·¸ í¬ë§·
  volumes:
    - ./data/db:/var/lib/postgresql/data
    - ./data/logs/postgresql:/var/log/postgresql  # ë¡œê·¸ ì €ì¥
```

---

## ë¡œê·¸ ê´€ë¦¬ UI êµ¬í˜„

### 1. ë°±ì—”ë“œ API (`app/api/logs.py`)

```python
"""
ë¡œê·¸ ê´€ë¦¬ API (Admin only)
"""
from fastapi import APIRouter, Depends, HTTPException, Query
from pydantic import BaseModel
from typing import Optional, List
from datetime import datetime, timedelta
import json
from pathlib import Path

from app.dependencies import get_current_admin_user
from app.config import settings

router = APIRouter()


class LogEntry(BaseModel):
    """ë¡œê·¸ í•­ëª©"""
    timestamp: str
    level: str
    logger: str
    message: str
    module: Optional[str] = None
    function: Optional[str] = None
    line: Optional[int] = None
    exception: Optional[str] = None


class LogListResponse(BaseModel):
    """ë¡œê·¸ ëª©ë¡ ì‘ë‹µ"""
    total: int
    logs: List[LogEntry]
    has_more: bool


@router.get("/", response_model=LogListResponse)
async def get_logs(
    log_type: str = Query("app", enum=["app", "error", "access"]),
    level: Optional[str] = Query(None, enum=["DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"]),
    search: Optional[str] = None,
    start_date: Optional[datetime] = None,
    end_date: Optional[datetime] = None,
    limit: int = Query(100, le=1000),
    offset: int = 0,
    current_user = Depends(get_current_admin_user)
):
    """
    ë¡œê·¸ ëª©ë¡ ì¡°íšŒ (Admin only)

    Args:
        log_type: ë¡œê·¸ íƒ€ì… (app, error, access)
        level: ë¡œê·¸ ë ˆë²¨ í•„í„°
        search: ê²€ìƒ‰ í‚¤ì›Œë“œ
        start_date: ì‹œì‘ ë‚ ì§œ
        end_date: ì¢…ë£Œ ë‚ ì§œ
        limit: ìµœëŒ€ ë°˜í™˜ ê°œìˆ˜
        offset: ì˜¤í”„ì…‹
    """
    log_file_map = {
        "app": "app.log",
        "error": "error.log",
        "access": "access.log"
    }

    log_file = Path(settings.LOG_DIR) / log_file_map[log_type]

    if not log_file.exists():
        return {
            "total": 0,
            "logs": [],
            "has_more": False
        }

    try:
        logs = []
        total = 0

        with open(log_file, 'r', encoding='utf-8') as f:
            for line in f:
                try:
                    log_entry = json.loads(line.strip())

                    # ë ˆë²¨ í•„í„°
                    if level and log_entry.get('level') != level:
                        continue

                    # ê²€ìƒ‰ í•„í„°
                    if search and search.lower() not in log_entry.get('message', '').lower():
                        continue

                    # ë‚ ì§œ í•„í„°
                    log_time = datetime.fromisoformat(log_entry['timestamp'].replace('Z', '+00:00'))
                    if start_date and log_time < start_date:
                        continue
                    if end_date and log_time > end_date:
                        continue

                    total += 1

                    # ì˜¤í”„ì…‹ ë° ë¦¬ë¯¸íŠ¸ ì ìš©
                    if total > offset and len(logs) < limit:
                        logs.append(LogEntry(**log_entry))

                except json.JSONDecodeError:
                    continue

        return {
            "total": total,
            "logs": logs[:limit],
            "has_more": total > (offset + limit)
        }

    except Exception as e:
        raise HTTPException(status_code=500, detail=f"ë¡œê·¸ ì¡°íšŒ ì‹¤íŒ¨: {str(e)}")


@router.get("/download/{log_type}")
async def download_log(
    log_type: str,
    current_user = Depends(get_current_admin_user)
):
    """
    ë¡œê·¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ (Admin only)
    """
    from fastapi.responses import FileResponse

    log_file_map = {
        "app": "app.log",
        "error": "error.log",
        "access": "access.log"
    }

    if log_type not in log_file_map:
        raise HTTPException(status_code=400, detail="ì˜ëª»ëœ ë¡œê·¸ íƒ€ì…")

    log_file = Path(settings.LOG_DIR) / log_file_map[log_type]

    if not log_file.exists():
        raise HTTPException(status_code=404, detail="ë¡œê·¸ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")

    return FileResponse(
        path=log_file,
        filename=f"{log_type}_{datetime.now().strftime('%Y%m%d_%H%M%S')}.log",
        media_type="text/plain"
    )


@router.delete("/clear/{log_type}")
async def clear_log(
    log_type: str,
    current_user = Depends(get_current_admin_user)
):
    """
    ë¡œê·¸ íŒŒì¼ ì‚­ì œ (Admin only)
    """
    log_file_map = {
        "app": "app.log",
        "error": "error.log",
        "access": "access.log"
    }

    if log_type not in log_file_map:
        raise HTTPException(status_code=400, detail="ì˜ëª»ëœ ë¡œê·¸ íƒ€ì…")

    log_file = Path(settings.LOG_DIR) / log_file_map[log_type]

    if log_file.exists():
        log_file.unlink()

    return {"success": True, "message": f"{log_type} ë¡œê·¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤"}


@router.post("/frontend")
async def log_frontend(
    logs: List[dict]
):
    """
    í”„ë¡ íŠ¸ì—”ë“œ ë¡œê·¸ ìˆ˜ì‹ 

    ì¸ì¦ ì—†ì´ë„ ë¡œê·¸ë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ ì„¤ì •
    (ì—ëŸ¬ ì¶”ì ìš©)
    """
    import logging
    frontend_logger = logging.getLogger("frontend")

    for log in logs:
        level = log.get('level', 'INFO')
        message = log.get('message', '')

        log_method = getattr(frontend_logger, level.lower(), frontend_logger.info)
        log_method(message, extra=log)

    return {"success": True, "count": len(logs)}
```

### 2. í”„ë¡ íŠ¸ì—”ë“œ UI (`src/views/Logs.vue`)

```vue
<template>
  <div class="logs-viewer">
    <div class="header">
      <h1>ì‹œìŠ¤í…œ ë¡œê·¸</h1>

      <!-- í•„í„° -->
      <div class="filters">
        <select v-model="logType">
          <option value="app">ì• í”Œë¦¬ì¼€ì´ì…˜</option>
          <option value="error">ì—ëŸ¬</option>
          <option value="access">ì ‘ê·¼ ë¡œê·¸</option>
        </select>

        <select v-model="logLevel">
          <option value="">ëª¨ë“  ë ˆë²¨</option>
          <option value="DEBUG">DEBUG</option>
          <option value="INFO">INFO</option>
          <option value="WARNING">WARNING</option>
          <option value="ERROR">ERROR</option>
          <option value="CRITICAL">CRITICAL</option>
        </select>

        <input
          v-model="searchQuery"
          placeholder="ê²€ìƒ‰..."
          @input="debounceSearch"
        />

        <button @click="downloadLogs">ë‹¤ìš´ë¡œë“œ</button>
        <button @click="clearLogs" class="danger">ì‚­ì œ</button>
      </div>
    </div>

    <!-- ë¡œê·¸ ëª©ë¡ -->
    <div class="log-list">
      <div
        v-for="log in logs"
        :key="log.timestamp"
        :class="['log-entry', `level-${log.level.toLowerCase()}`]"
      >
        <div class="log-header">
          <span class="timestamp">{{ formatTime(log.timestamp) }}</span>
          <span class="level">{{ log.level }}</span>
          <span class="logger">{{ log.logger }}</span>
        </div>
        <div class="log-message">{{ log.message }}</div>
        <div v-if="log.exception" class="log-exception">
          <pre>{{ log.exception }}</pre>
        </div>
      </div>

      <!-- ë¡œë”© -->
      <div v-if="loading" class="loading">ë¡œë”© ì¤‘...</div>

      <!-- ë” ë¶ˆëŸ¬ì˜¤ê¸° -->
      <button
        v-if="hasMore && !loading"
        @click="loadMore"
        class="load-more"
      >
        ë” ë³´ê¸°
      </button>
    </div>
  </div>
</template>

<script setup>
import { ref, watch } from 'vue'
import { logsApi } from '@/api/logs'

const logType = ref('app')
const logLevel = ref('')
const searchQuery = ref('')
const logs = ref([])
const loading = ref(false)
const hasMore = ref(false)
const offset = ref(0)

const loadLogs = async (reset = false) => {
  if (reset) {
    offset.value = 0
    logs.value = []
  }

  loading.value = true

  try {
    const response = await logsApi.getLogs({
      log_type: logType.value,
      level: logLevel.value || undefined,
      search: searchQuery.value || undefined,
      limit: 100,
      offset: offset.value
    })

    if (reset) {
      logs.value = response.data.logs
    } else {
      logs.value.push(...response.data.logs)
    }

    hasMore.value = response.data.has_more
  } catch (error) {
    console.error('ë¡œê·¸ ë¡œë“œ ì‹¤íŒ¨:', error)
  } finally {
    loading.value = false
  }
}

const loadMore = () => {
  offset.value += 100
  loadLogs(false)
}

const downloadLogs = async () => {
  window.open(`/api/logs/download/${logType.value}`, '_blank')
}

const clearLogs = async () => {
  if (!confirm('ë¡œê·¸ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return

  try {
    await logsApi.clearLogs(logType.value)
    loadLogs(true)
  } catch (error) {
    console.error('ë¡œê·¸ ì‚­ì œ ì‹¤íŒ¨:', error)
  }
}

const formatTime = (timestamp) => {
  return new Date(timestamp).toLocaleString('ko-KR')
}

// ë””ë°”ìš´ìŠ¤ ê²€ìƒ‰
let searchTimeout
const debounceSearch = () => {
  clearTimeout(searchTimeout)
  searchTimeout = setTimeout(() => {
    loadLogs(true)
  }, 500)
}

// í•„í„° ë³€ê²½ ì‹œ ì¬ë¡œë“œ
watch([logType, logLevel], () => {
  loadLogs(true)
})

// ì´ˆê¸° ë¡œë“œ
loadLogs(true)
</script>

<style scoped>
.log-entry {
  border-left: 4px solid;
  padding: 12px;
  margin-bottom: 8px;
  background: white;
  border-radius: 4px;
}

.level-debug { border-color: #6c757d; }
.level-info { border-color: #0d6efd; }
.level-warning { border-color: #ffc107; }
.level-error { border-color: #dc3545; }
.level-critical { border-color: #dc3545; background: #fff5f5; }

.log-exception {
  margin-top: 8px;
  padding: 8px;
  background: #f8f9fa;
  border-radius: 4px;
  font-family: monospace;
  font-size: 12px;
  overflow-x: auto;
}
</style>
```

### 3. API í´ë¼ì´ì–¸íŠ¸ (`src/api/logs.js`)

```javascript
import client from './client'

export const logsApi = {
  getLogs(params) {
    return client.get('/logs/', { params })
  },

  downloadLogs(logType) {
    return client.get(`/logs/download/${logType}`, {
      responseType: 'blob'
    })
  },

  clearLogs(logType) {
    return client.delete(`/logs/clear/${logType}`)
  }
}
```

---

## êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: ë°±ì—”ë“œ ë¡œê¹… ê¸°ë°˜ êµ¬ì¶• (1ì£¼)

**ëª©í‘œ:** ì²´ê³„ì ì¸ ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶•

- [ ] `app/core/logger.py` êµ¬í˜„
- [ ] `app/config.py`ì— ë¡œê¹… ì„¤ì • ì¶”ê°€
- [ ] `app/middleware/logging_middleware.py` êµ¬í˜„
- [ ] `app/main.py`ì— ë¡œê¹… ì´ˆê¸°í™” ì¶”ê°€
- [ ] ë¡œê·¸ ë””ë ‰í† ë¦¬ ìƒì„± (`/data/logs/`)
- [ ] í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ (`.env`)

**ê²€ì¦:**
```bash
# ë¡œê·¸ íŒŒì¼ ìƒì„± í™•ì¸
ls -lh /home/nuricom/project/myappStore/data/logs/
# app.log, error.log, access.log ì¡´ì¬ í™•ì¸

# ë¡œê·¸ ë‚´ìš© í™•ì¸
tail -f /home/nuricom/project/myappStore/data/logs/app.log
```

### Phase 2: print() â†’ logging ë³€í™˜ (2ì£¼)

**ëª©í‘œ:** ëª¨ë“  print() ë¬¸ì„ loggingìœ¼ë¡œ ë³€ê²½

**ìš°ì„ ìˆœìœ„ íŒŒì¼:**
1. `app/core/redis_cache.py` (13ê°œ)
2. `app/core/scheduler.py` (15ê°œ)
3. `app/core/icon_cache.py` (26ê°œ)
4. `app/main.py` (26ê°œ)
5. `app/core/scanner.py` (ë§ìŒ)
6. ë‚˜ë¨¸ì§€ íŒŒì¼ë“¤...

**ë³€í™˜ ê°€ì´ë“œë¼ì¸:**
```python
# Before
print(f"[Info] Something happened: {value}")

# After
logger.info(f"Something happened: {value}")

# Before
print(f"[Error] Failed: {e}")

# After
logger.error(f"Failed: {str(e)}", exc_info=True)
```

**ê²€ì¦:**
```bash
# print() ë¬¸ ê²€ìƒ‰ (0ê°œì—¬ì•¼ í•¨)
grep -r "print(" backend/app/ --include="*.py" | grep -v "venv" | wc -l
```

### Phase 3: ë°ì´í„°ë² ì´ìŠ¤ ë¡œê¹… (3ì¼)

**ëª©í‘œ:** DB ì¿¼ë¦¬ ëª¨ë‹ˆí„°ë§

- [ ] `app/database.py`ì— SQLAlchemy ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
- [ ] ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê¹… í™œì„±í™”
- [ ] `docker-compose.yml` PostgreSQL ë¡œê¹… ì„¤ì •
- [ ] ë¡œê·¸ ëª¨ë¸ ì¶”ê°€ (ì„ íƒì‚¬í•­)

**ê²€ì¦:**
```bash
# PostgreSQL ë¡œê·¸ í™•ì¸
docker logs myapp-postgres | grep "duration:"

# ìŠ¬ë¡œìš° ì¿¼ë¦¬ í™•ì¸
grep "Slow query" data/logs/app.log
```

### Phase 4: í”„ë¡ íŠ¸ì—”ë“œ ë¡œê¹… (1ì£¼)

**ëª©í‘œ:** í”„ë¡ íŠ¸ì—”ë“œ ì—ëŸ¬ ì¶”ì 

- [ ] `src/utils/logger.js` êµ¬í˜„
- [ ] `src/api/client.js`ì— ë¡œê¹… ì¸í„°ì…‰í„° ì¶”ê°€
- [ ] `src/main.js`ì— ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì¶”ê°€
- [ ] ë°±ì—”ë“œ `/api/logs/frontend` ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- [ ] ì£¼ìš” ì»´í¬ë„ŒíŠ¸ì— ì•¡ì…˜ ë¡œê¹… ì¶”ê°€

**ê²€ì¦:**
```javascript
// ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ
logger.info('Test log')
logger.error('Test error', new Error('Test'))

// ì„œë²„ ë¡œê·¸ í™•ì¸
tail -f data/logs/app.log | grep "frontend"
```

### Phase 5: ë¡œê·¸ ë·°ì–´ UI (1ì£¼)

**ëª©í‘œ:** ê´€ë¦¬ì ë¡œê·¸ ì¡°íšŒ ê¸°ëŠ¥

- [ ] `app/api/logs.py` êµ¬í˜„
- [ ] `src/api/logs.js` í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„
- [ ] `src/views/Logs.vue` ë·°ì–´ UI êµ¬í˜„
- [ ] ë¼ìš°í„°ì— `/logs` ê²½ë¡œ ì¶”ê°€
- [ ] Settings.vueì— "ë¡œê·¸" ë©”ë‰´ ì¶”ê°€

**ê²€ì¦:**
- ê´€ë¦¬ì ë¡œê·¸ì¸ í›„ `/logs` ì ‘ì†
- ë¡œê·¸ íƒ€ì…ë³„ ì¡°íšŒ í…ŒìŠ¤íŠ¸
- ê²€ìƒ‰/í•„í„°ë§ í…ŒìŠ¤íŠ¸
- ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

### Phase 6: ê³ ë„í™” (ì„ íƒì‚¬í•­)

**ì¶”ê°€ ê¸°ëŠ¥:**
- [ ] ì‹¤ì‹œê°„ ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë° (WebSocket)
- [ ] ë¡œê·¸ ë¶„ì„ ëŒ€ì‹œë³´ë“œ
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ (Critical ì—ëŸ¬ ë°œìƒ ì‹œ)
- [ ] Elasticsearch í†µí•© (ëŒ€ìš©ëŸ‰)
- [ ] Grafana í†µí•© (ì‹œê°í™”)

---

## ì˜ˆìƒ íš¨ê³¼

### 1. ìš´ì˜ íš¨ìœ¨ì„± í–¥ìƒ

**Before:**
```
ì‚¬ìš©ì: "ì œí’ˆ ëª©ë¡ì´ ì•ˆ ë³´ì—¬ìš”"
ê°œë°œì: "ìŒ... ì„œë²„ ë¡œê·¸ë¥¼ ë´ì•¼ í•˜ëŠ”ë°... print()ë¡œ ì¶œë ¥í•œ ê²Œ ì–´ë”” ê°”ì§€?"
â†’ ë””ë²„ê¹… ì‹œê°„: 2-4ì‹œê°„
```

**After:**
```
ì‚¬ìš©ì: "ì œí’ˆ ëª©ë¡ì´ ì•ˆ ë³´ì—¬ìš”"
ê°œë°œì: ë¡œê·¸ ë·°ì–´ì—ì„œ ê²€ìƒ‰ â†’ 1ë¶„ ë‚´ ì›ì¸ íŒŒì•…
â†’ ë””ë²„ê¹… ì‹œê°„: 5-10ë¶„
```

**ì ˆê° íš¨ê³¼:** ë””ë²„ê¹… ì‹œê°„ 80% ë‹¨ì¶•

### 2. ì„±ëŠ¥ ìµœì í™” ê·¼ê±° í™•ë³´

**ìŠ¬ë¡œìš° ì¿¼ë¦¬ ìë™ ê°ì§€:**
```
[WARNING] Slow query detected (2.341s):
SELECT * FROM products WHERE category = 'Graphics' ORDER BY created_at DESC
```

â†’ ì¸ë±ìŠ¤ ì¶”ê°€, ì¿¼ë¦¬ ìµœì í™” ê²°ì • ê·¼ê±°

### 3. ì‚¬ìš©ì í–‰ë™ ë¶„ì„

**ì•¡ì…˜ ë¡œê·¸ ìˆ˜ì§‘:**
```json
{
  "action": "download_version",
  "product_id": 123,
  "version_id": 456,
  "user_id": 1,
  "timestamp": "2026-01-03T10:30:00Z"
}
```

â†’ ì¸ê¸° ì†Œí”„íŠ¸ì›¨ì–´ íŒŒì•…, UI/UX ê°œì„  ì¸ì‚¬ì´íŠ¸

### 4. ë³´ì•ˆ ê°ì‚¬ ì¶”ì 

**ì ‘ê·¼ ë¡œê·¸:**
```json
{
  "method": "POST",
  "url": "/api/products/123",
  "user_id": 5,
  "ip_address": "192.168.1.100",
  "status_code": 403
}
```

â†’ ë¹„ì •ìƒ ì ‘ê·¼ íŒ¨í„´ ê°ì§€

### 5. ì •ëŸ‰ì  íš¨ê³¼

| í•­ëª© | Before | After | ê°œì„ ìœ¨ |
|------|--------|-------|--------|
| ë””ë²„ê¹… ì‹œê°„ | 2-4ì‹œê°„ | 5-10ë¶„ | **80%â†“** |
| ì—ëŸ¬ ë°œê²¬ | ì‚¬ìš©ì ì‹ ê³  í›„ | ì‹¤ì‹œê°„ ê°ì§€ | **100%â†‘** |
| ì„±ëŠ¥ ë³‘ëª© íŒŒì•… | ì¶”ì¸¡ | ë°ì´í„° ê¸°ë°˜ | **ì •ëŸ‰í™”** |
| ë¡œê·¸ ë³´ê´€ | ì—†ìŒ | 30ì¼ | **+30ì¼** |
| ë¡œê·¸ ê²€ìƒ‰ | ë¶ˆê°€ëŠ¥ | 1ì´ˆ ì´ë‚´ | **ì¦‰ì‹œ** |

---

## ì˜ˆìƒ ë¹„ìš©

### ì €ì¥ ê³µê°„

**ì¼ì¼ ë¡œê·¸ ì˜ˆìƒ í¬ê¸°:**
- ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸: ~50MB/ì¼
- ì—ëŸ¬ ë¡œê·¸: ~10MB/ì¼
- ì ‘ê·¼ ë¡œê·¸: ~100MB/ì¼
- PostgreSQL ë¡œê·¸: ~20MB/ì¼

**ì´ê³„:** ~180MB/ì¼ Ã— 30ì¼ = **5.4GB/ì›”**

### ì¶”ê°€ ì˜ì¡´ì„±

```
# requirements.txt (ì´ë¯¸ ìˆìŒ)
# loggingì€ Python í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë¯€ë¡œ ì¶”ê°€ ì„¤ì¹˜ ë¶ˆí•„ìš”
```

---

## ì°¸ê³  ìë£Œ

### Python Logging
- [Python Logging HOWTO](https://docs.python.org/3/howto/logging.html)
- [FastAPI Logging](https://fastapi.tiangolo.com/tutorial/handling-errors/#custom-exception-handlers)

### SQLAlchemy Logging
- [SQLAlchemy Engine Events](https://docs.sqlalchemy.org/en/20/core/events.html#sqlalchemy.events.PoolEvents)

### PostgreSQL Logging
- [PostgreSQL Logging Documentation](https://www.postgresql.org/docs/current/runtime-config-logging.html)

### Frontend Logging
- [Sentry.io](https://sentry.io/) - í”„ë¡œë•ì…˜ ì—ëŸ¬ ì¶”ì 
- [LogRocket](https://logrocket.com/) - ì„¸ì…˜ ë¦¬í”Œë ˆì´

---

## ê²°ë¡ 

**ë¡œê¹… ì‹œìŠ¤í…œì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ "ë¸”ë™ë°•ìŠ¤"ì…ë‹ˆë‹¤.**

í˜„ì¬ MyApp StoreëŠ” 228ê°œì˜ print() ë¬¸ìœ¼ë¡œ ì„ì‹œ ë¡œê¹…ì„ í•˜ê³  ìˆì§€ë§Œ, ì²´ê³„ì ì¸ ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶•ìœ¼ë¡œ:

âœ… **ë””ë²„ê¹… ì‹œê°„ 80% ë‹¨ì¶•**
âœ… **ì—ëŸ¬ ì‹¤ì‹œê°„ ê°ì§€**
âœ… **ì„±ëŠ¥ ìµœì í™” ê·¼ê±° í™•ë³´**
âœ… **ë³´ì•ˆ ê°ì‚¬ ì¶”ì  ê°€ëŠ¥**
âœ… **ìš´ì˜ íš¨ìœ¨ì„± ëŒ€í­ í–¥ìƒ**

**6ì£¼ ë¡œë“œë§µìœ¼ë¡œ ì™„ë²½í•œ ë¡œê¹… ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!** ğŸš€
